# 5. Quick Start Guide

Get the entire CrowdFUNding platform running locally in under 10 minutes! This guide provides the fastest path to a working development environment.

## Prerequisites Checklist

Before starting, ensure you have the following installed:

- [ ] **Node.js** v18+ (`node --version`)
- [ ] **npm** or **yarn**
- [ ] **Foundry** (`forge --version`) - only needed if deploying new contracts
- [ ] **PostgreSQL** running locally or a cloud database URL

## Architecture Overview

Before diving in, here's a quick overview of how the components connect:

```mermaid
flowchart LR
    FE["Frontend\n:3000"] --> BE["Backend\n:3300"]
    BE --> Indexer["Indexer\n:42069"]
    Indexer --> BC["Base Sepolia"]
    FE --> BC
```

## Quick Setup (4 Steps)

### Step 1: Clone the Repositories

Each component is an independent repository. Clone them into your workspace:

```bash
# Clone each repository
git clone https://github.com/your-org/crowdfunding-frontend.git
git clone https://github.com/your-org/crowdfunding-backend.git
git clone https://github.com/your-org/crowdfunding-indexer.git
git clone https://github.com/your-org/crowdfunding-contracts.git
```

### Step 2: Start the Indexer

The indexer needs to run first as the backend depends on it for data.

```bash
cd crowdfunding-indexer

# Install dependencies
npm install

# Create environment file
echo "PONDER_RPC_URL_1=https://sepolia.base.org" > .env.local

# Start indexer
npm run dev
```

**âœ… Indexer running at:** `http://localhost:42069`

### Step 3: Start the Backend

Open a **new terminal** for the backend:

```bash
cd crowdfunding-backend

# Install dependencies
npm install

# Create environment file
cat > .env << EOF
PORT=3300
NODE_ENV=development
DATABASE_URL=postgresql://user:password@localhost:5432/crowdfunding
SESSION_SECRET=your-secret-key-here
JWT_SECRET=your-jwt-secret-here
FRONTEND_URL=http://localhost:3000
PONDER_URL=http://localhost:42069
RPC_URL=https://sepolia.base.org
EOF

# Setup database tables
npm run db:setup

# Start server
npm start
```

**âœ… Backend running at:** `http://localhost:3300`

### Step 4: Start the Frontend

Open another **new terminal** for the frontend:

```bash
cd crowdfunding-frontend

# Install dependencies
yarn install

# Create environment file
cat > .env.local << EOF
NEXT_PUBLIC_WALLET_CONNECT_ID=your_walletconnect_id
NEXT_PUBLIC_CAMPAIGN_ADDRESS=0x44e87aa98d721Dbcf368690bF5aAb1F3dD944dA9
NEXT_PUBLIC_BADGE_ADDRESS=0xaE32Df9Fb677aE68C5A1F956761a42e269Ebdc99
NEXT_PUBLIC_IDRX_ADDRESS=0x387551ac55Bb6949d44715D07880f8c6260934B6
NEXT_PUBLIC_USDC_ADDRESS=0x1b929eB40670aA4e0D757d45cA9aea2311a25a97
NEXT_PUBLIC_API_URL=http://localhost:3300
EOF

# Start development server
yarn dev
```

**âœ… Frontend running at:** `http://localhost:3000`

---

## Service URLs Summary

| Service | URL | Purpose |
|---------|-----|---------|
| **Frontend** | http://localhost:3000 | User interface |
| **Backend** | http://localhost:3300 | REST API |
| **Indexer** | http://localhost:42069 | GraphQL + REST |
| **Indexer GraphQL** | http://localhost:42069/graphql | GraphQL playground |

---

## Verify Everything is Working

### 1. Check Indexer Health

```bash
curl http://localhost:42069/health
```

Expected response:
```json
{"status":"ok"}
```

### 2. Check Backend Health

```bash
curl http://localhost:3300/api/sync/status
```

Expected response:
```json
{"syncing":true,"lastSync":"2024-01-30T12:00:00.000Z"}
```

### 3. Check Campaign Data

```bash
curl http://localhost:3300/crowdfunding/vaults
```

Expected response:
```json
{"success":true,"data":[...]}
```

### 4. Open Frontend

Visit http://localhost:3000 in your browser. You should see the CrowdFUNding landing page!

---

## Smart Contract Addresses

The following contracts are already deployed on Base Sepolia and ready to use:

| Contract | Address |
|----------|---------|
| **Campaign** | `0x44e87aa98d721Dbcf368690bF5aAb1F3dD944dA9` |
| **Badge** | `0xaE32Df9Fb677aE68C5A1F956761a42e269Ebdc99` |
| **MockSwap** | `0x554366984fD2f5D82c753F91357d80c29F887F17` |
| **MockIDRX** | `0x387551ac55Bb6949d44715D07880f8c6260934B6` |
| **MockUSDC** | `0x1b929eB40670aA4e0D757d45cA9aea2311a25a97` |

---

## Running All Services (Script)

Create a `start-all.sh` script for convenience:

```bash
#!/bin/bash

echo "ðŸš€ Starting CrowdFUNding Platform..."

# Start Indexer
echo "ðŸ“Š Starting Indexer..."
cd crowdfunding-indexer && npm run dev &
sleep 5

# Start Backend
echo "âš™ï¸ Starting Backend..."
cd ../crowdfunding-backend && npm start &
sleep 3

# Start Frontend
echo "ðŸŒ Starting Frontend..."
cd ../crowdfunding-frontend && yarn dev

# Cleanup on exit
trap "pkill -f 'ponder|node'" EXIT
```

Run it:
```bash
chmod +x start-all.sh
./start-all.sh
```

---

## Common Issues & Quick Fixes

### Port Already in Use

Find and kill the process using the port:

```bash
# Find process
lsof -i :3000  # or 3300, 42069

# Kill process
kill -9 <PID>
```

### Database Connection Failed

Verify PostgreSQL is running:

```bash
pg_isready
```

Or use a cloud database like [Neon](https://neon.tech) or [Supabase](https://supabase.com).

### Wallet Connection Failed

Ensure you have a valid WalletConnect Project ID:
1. Go to [WalletConnect Cloud](https://cloud.walletconnect.com)
2. Create a new project
3. Copy the Project ID to `NEXT_PUBLIC_WALLET_CONNECT_ID`

### No Campaigns Showing

1. Wait 30 seconds for backend auto-sync
2. Check indexer logs for errors
3. Verify contract addresses match the deployed contracts

---

## Next Steps

After getting the platform running:

1. **Connect your wallet** at http://localhost:3000
2. **Get test ETH** from Base Sepolia faucet
3. **Create a test campaign**
4. **Make a test donation**
5. **Explore the codebase** using the detailed guides

For more details, see the component-specific guides:
- [Smart Contract Guide](./1.%20Smart%20Contract%20Guide.md)
- [Backend Guide](./2.%20Back%20End%20Guide.md)
- [Frontend Guide](./3.%20Front%20End%20Guide.md)
- [Indexer Guide](./4.%20Indexer%20Guide.md)
